{"ast":null,"code":"import _regeneratorRuntime from \"/home/sankar/projects/reactjs/valorox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/sankar/projects/reactjs/valorox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/sankar/projects/reactjs/valorox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/sankar/projects/reactjs/valorox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/sankar/projects/reactjs/valorox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/sankar/projects/reactjs/valorox/src/container/login/forgotPassword.js\";\nimport React, { useState } from \"react\";\nimport * as API from \"../../api/api\";\nimport { Link } from \"react-router-dom\";\nimport * as appUtil from \"./../../helper/appUtils\";\nimport ForgotImg from \"./../../assets/images/forgot.png\";\nvar initialFormData = {\n  email: \"\"\n};\nexport default function ContactUs() {\n  var _useState = useState(initialFormData),\n      _useState2 = _slicedToArray(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      msg = _useState6[0],\n      setMsg = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      errorEmail = _useState8[0],\n      setErrorEmail = _useState8[1];\n\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setFormData(_objectSpread({}, formData, _defineProperty({}, name, value)));\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var flag, requestObj, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setLoading(true);\n              flag = validateInput();\n\n              if (flag) {\n                _context.next = 6;\n                break;\n              }\n\n              setLoading(false);\n              return _context.abrupt(\"return\");\n\n            case 6:\n              requestObj = {\n                email: formData.email\n              };\n              _context.next = 9;\n              return API.reset_password(requestObj);\n\n            case 9:\n              response = _context.sent;\n\n              if (response.status === 200) {\n                setMsg(\"Mail has been sent to your email id.\");\n                setLoading(false);\n              }\n\n              if (response.status === 202) {\n                // setMsg(response.data);\n                setLoading(false);\n              }\n\n              _context.next = 16;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 14]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  function validateInput() {\n    var email = formData.email;\n    var flag = true;\n    var validateEmail = appUtil.validateEmail(email);\n\n    if (validateEmail === 1) {\n      setErrorEmail({\n        field: \"email\",\n        message: \"\"\n      });\n    }\n\n    if (!(validateEmail === 1)) {\n      var _msg = \"\";\n\n      if (validateEmail === 0) {\n        _msg = \"Please enter your email.\";\n      } else {\n        _msg = \"Please check your email format.\";\n      }\n\n      setErrorEmail({\n        field: \"email\",\n        message: _msg\n      });\n      flag = false;\n    }\n\n    return flag;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex md:h-auto lg:min-h-screen bg-white lg:px-36 xl:px-36 px-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-1/2 bg-cover md:block hidden\",\n    style: {\n      backgroundImage: \"url(\".concat(ForgotImg, \")\")\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"md:w-1/2 max-w-lg mx-auto lg:my-auto xl:my-auto my-10 px-4 py-5 shadow-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left p-0 font-sans\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \" text-gray-800 text-3xl font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"Forgot Password?\"), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"p-1 text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"Don't worry! We've got your back.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"block w-full p-2 border rounded border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-transparent \",\n    placeholder: \"Email\",\n    name: \"email\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }), errorEmail.field === \"email\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-12px font-semibold text-red-800 mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, errorEmail.message)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"py-3 bg-red-800 text-white w-full rounded hover:bg-red-900 border-2 border-red-800 hover:border-red-900 focus:outline-none\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader ease-linear rounded-full mx-auto border-2 border-t-2 border-gray-200 h-5 w-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, \"Request password reset\"))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-12px font-semibold text-green-500 pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, msg), /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"block p-2 text-center text-gray-800  text-xs \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \"Back to Sign in\"))));\n}","map":{"version":3,"sources":["/home/sankar/projects/reactjs/valorox/src/container/login/forgotPassword.js"],"names":["React","useState","API","Link","appUtil","ForgotImg","initialFormData","email","ContactUs","formData","setFormData","loading","setLoading","msg","setMsg","errorEmail","setErrorEmail","handleChange","e","target","name","value","handleSubmit","flag","validateInput","requestObj","reset_password","response","status","validateEmail","field","message","backgroundImage"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport * as API from \"../../api/api\";\nimport { Link } from \"react-router-dom\";\nimport * as appUtil from \"./../../helper/appUtils\";\nimport ForgotImg from \"./../../assets/images/forgot.png\";\nconst initialFormData = {\n  email: \"\",\n};\nexport default function ContactUs() {\n  const [formData, setFormData] = useState(initialFormData);\n\n  const [loading, setLoading] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n\n  const [errorEmail, setErrorEmail] = useState(\"\");\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n      let flag = validateInput();\n      if (!flag) {\n        setLoading(false);\n        return;\n      }\n\n      const requestObj = {\n        email: formData.email,\n      };\n      const response = await API.reset_password(requestObj);\n\n      if (response.status === 200) {\n        setMsg(\"Mail has been sent to your email id.\");\n        setLoading(false);\n      }\n\n      if (response.status === 202) {\n        // setMsg(response.data);\n\n        setLoading(false);\n      }\n    } catch (e) {}\n  };\n\n  function validateInput() {\n    const { email } = formData;\n    let flag = true;\n\n    let validateEmail = appUtil.validateEmail(email);\n\n    if (validateEmail === 1) {\n      setErrorEmail({\n        field: \"email\",\n        message: \"\",\n      });\n    }\n    if (!(validateEmail === 1)) {\n      let msg = \"\";\n      if (validateEmail === 0) {\n        msg = \"Please enter your email.\";\n      } else {\n        msg = \"Please check your email format.\";\n      }\n      setErrorEmail({\n        field: \"email\",\n        message: msg,\n      });\n      flag = false;\n    }\n    return flag;\n  }\n\n  return (\n    <div className=\"flex md:h-auto lg:min-h-screen bg-white lg:px-36 xl:px-36 px-8\">\n      <div\n        className=\"w-1/2 bg-cover md:block hidden\"\n        style={{\n          backgroundImage: `url(${ForgotImg})`,\n        }}\n      ></div>\n\n      <div className=\"md:w-1/2 max-w-lg mx-auto lg:my-auto xl:my-auto my-10 px-4 py-5 shadow-none\">\n        <div className=\"text-left p-0 font-sans\">\n          <h1 className=\" text-gray-800 text-3xl font-medium\">\n            Forgot Password?\n          </h1>\n          <h3 className=\"p-1 text-gray-700\">\n            Don't worry! We've got your back.\n          </h3>\n        </div>\n\n        <div className=\"mt-3\">\n          {/* <label for=\"email\" className=\"sc-bqyKva ePvcBv\">\n              Email\n            </label> */}\n\n          <input\n            type=\"text\"\n            className=\"block w-full p-2 border rounded border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-transparent \"\n            placeholder=\"Email\"\n            name=\"email\"\n            onChange={handleChange}\n          />\n          {errorEmail.field === \"email\" && (\n            <p className=\"text-12px font-semibold text-red-800 mt-2\">\n              {errorEmail.message}\n            </p>\n          )}\n        </div>\n\n        <div className=\"mt-5\">\n          <button\n            className=\"py-3 bg-red-800 text-white w-full rounded hover:bg-red-900 border-2 border-red-800 hover:border-red-900 focus:outline-none\"\n            onClick={handleSubmit}\n          >\n            {loading ? (\n              <div className=\"loader ease-linear rounded-full mx-auto border-2 border-t-2 border-gray-200 h-5 w-5\"></div>\n            ) : (\n              <div className=\"text-white\">Request password reset</div>\n            )}\n          </button>\n        </div>\n        <p className=\"text-12px font-semibold text-green-500 pt-2\">{msg}</p>\n\n        <Link to=\"/login\">\n          <span className=\"block p-2 text-center text-gray-800  text-xs \">\n            Back to Sign in\n          </span>\n        </Link>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}