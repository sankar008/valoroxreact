{"ast":null,"code":"import _regeneratorRuntime from \"/home/sankar/reactjs/valorox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/sankar/reactjs/valorox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/sankar/reactjs/valorox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/sankar/reactjs/valorox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/sankar/reactjs/valorox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/sankar/reactjs/valorox/src/container/CTA/cta.js\";\nimport React, { useState } from \"react\";\nimport * as API from \"./../../api/api\";\nimport { ReactComponent as Bell } from \"@svgr/webpack?-svgo,+ref!./../../assets/icons/bell.svg\";\nimport * as appUtil from \"./../../helper/appUtils\";\nvar initialData = {\n  email: \"\"\n};\nexport default function CTA() {\n  var _useState = useState(initialData),\n      _useState2 = _slicedToArray(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorEmail = _useState4[0],\n      setErrorEmail = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      msg = _useState8[0],\n      setMsg = _useState8[1];\n\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setFormData(_objectSpread({}, formData, _defineProperty({}, name, value)));\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var flag, requestBody, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              setMsg(\"\");\n              _context.prev = 2;\n              flag = validateInput();\n\n              if (flag) {\n                _context.next = 7;\n                break;\n              }\n\n              setLoading(false);\n              return _context.abrupt(\"return\");\n\n            case 7:\n              requestBody = {\n                email_id: formData.email\n              };\n              _context.next = 10;\n              return API.subscribe(requestBody);\n\n            case 10:\n              response = _context.sent;\n\n              if (response.status === 202) {\n                setMsg(\"You are already registered with us. Thank You.\");\n              }\n\n              if (response.status === 200) {\n                setMsg(\"Thanks for subscribing us. We will get in touch with you soon\");\n              }\n\n              setLoading(false);\n              _context.next = 18;\n              break;\n\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](2);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 16]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  function validateInput() {\n    var email = formData.email;\n    var flag = true;\n    var validateEmail = appUtil.validateEmail(email);\n\n    if (validateEmail === 1) {\n      setErrorEmail({\n        field: \"email\",\n        message: \"\"\n      });\n    }\n\n    if (!(validateEmail === 1)) {\n      var _msg = \"\";\n\n      if (validateEmail === 0) {\n        _msg = \"Please enter your email.\";\n      } else {\n        _msg = \"Please check your email format.\";\n      }\n\n      setErrorEmail({\n        field: \"email\",\n        message: _msg\n      });\n      flag = false;\n    }\n\n    return flag;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-auto bg-gray-100 lg:p-16 px-5 py-10 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lg:text-4xl text-2xl mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Sign Up For Newsletter \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lg:text-base mb-3 text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Join 60000+ subscribers for latest offers\", \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 mx-auto relative lg:w-96 relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"lg:w-96 w-full h-10 rounded-lg focus:outline-none lg:px-5 px-2\",\n    onChange: handleChange,\n    name: \"email\",\n    value: FormData.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"absolute top-0 right-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \" bg-red-800 h-10 rounded-lg text-white lg:w-24 w-10 top-0 right-0  hover:bg-red-900 border-2 hover:border-red-800 transition ease-in duration-300 relative focus:outline-none\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader ease-linear rounded-full mx-auto border-2 border-t-2 border-gray-200 h-5 w-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Bell, {\n    width: \"20px\",\n    height: \"20px\",\n    fill: \"white\",\n    className: \"absolute inset-y-1/2 inset-x-1/2 lg:hidden\",\n    style: {\n      transform: \"translate(-50%, -50%)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"hidden lg:block focus:outline-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"Subscribe\")))), errorEmail.field === \"email\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \" absolute text-12px font-semibold text-red-800 mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, errorEmail.message), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"absolute text-12px font-semibold text-red-800 mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, msg)));\n}","map":{"version":3,"sources":["/home/sankar/reactjs/valorox/src/container/CTA/cta.js"],"names":["React","useState","API","appUtil","initialData","email","CTA","formData","setFormData","errorEmail","setErrorEmail","loading","setLoading","msg","setMsg","handleChange","e","target","name","value","handleSubmit","flag","validateInput","requestBody","email_id","subscribe","response","status","validateEmail","field","message","FormData","transform"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport * as API from \"./../../api/api\";\nimport { ReactComponent as Bell } from \"./../../assets/icons/bell.svg\";\nimport * as appUtil from \"./../../helper/appUtils\";\n\nconst initialData = {\n  email: \"\",\n};\nexport default function CTA() {\n  const [formData, setFormData] = useState(initialData);\n  const [errorEmail, setErrorEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = async () => {\n    setLoading(true);\n    setMsg(\"\");\n    try {\n      let flag = validateInput();\n      if (!flag) {\n        setLoading(false);\n        return;\n      }\n      const requestBody = {\n        email_id: formData.email,\n      };\n      const response = await API.subscribe(requestBody);\n      if (response.status === 202) {\n        setMsg(\"You are already registered with us. Thank You.\");\n      }\n      if (response.status === 200) {\n        setMsg(\"Thanks for subscribing us. We will get in touch with you soon\");\n      }\n      setLoading(false);\n    } catch (e) {}\n  };\n\n  function validateInput() {\n    const { email } = formData;\n    let flag = true;\n\n    let validateEmail = appUtil.validateEmail(email);\n    if (validateEmail === 1) {\n      setErrorEmail({\n        field: \"email\",\n        message: \"\",\n      });\n    }\n    if (!(validateEmail === 1)) {\n      let msg = \"\";\n      if (validateEmail === 0) {\n        msg = \"Please enter your email.\";\n      } else {\n        msg = \"Please check your email format.\";\n      }\n      setErrorEmail({\n        field: \"email\",\n        message: msg,\n      });\n      flag = false;\n    }\n    return flag;\n  }\n  return (\n    <div className=\"h-auto bg-gray-100 lg:p-16 px-5 py-10 text-center\">\n      <div className=\"pb-5\">\n        <div className=\"lg:text-4xl text-2xl mb-3\">Sign Up For Newsletter </div>\n        <div className=\"lg:text-base mb-3 text-sm\">\n          Join 60000+ subscribers for latest offers{\" \"}\n        </div>\n      </div>\n      <div className=\"mb-3 mx-auto relative lg:w-96 relative\">\n        <input\n          className=\"lg:w-96 w-full h-10 rounded-lg focus:outline-none lg:px-5 px-2\"\n          onChange={handleChange}\n          name=\"email\"\n          value={FormData.email}\n        />\n        <div className=\"absolute top-0 right-0\">\n          <button\n            className=\" bg-red-800 h-10 rounded-lg text-white lg:w-24 w-10 top-0 right-0  hover:bg-red-900 border-2 hover:border-red-800 transition ease-in duration-300 relative focus:outline-none\"\n            onClick={handleSubmit}\n          >\n            {loading ? (\n              <div className=\"loader ease-linear rounded-full mx-auto border-2 border-t-2 border-gray-200 h-5 w-5\"></div>\n            ) : (\n              <>\n                <Bell\n                  width=\"20px\"\n                  height=\"20px\"\n                  fill=\"white\"\n                  className=\"absolute inset-y-1/2 inset-x-1/2 lg:hidden\"\n                  style={{ transform: \"translate(-50%, -50%)\" }}\n                />\n                <span className=\"hidden lg:block focus:outline-none\">\n                  Subscribe\n                </span>\n              </>\n            )}\n          </button>\n        </div>\n        {errorEmail.field === \"email\" && (\n          <p className=\" absolute text-12px font-semibold text-red-800 mt-2\">\n            {errorEmail.message}\n          </p>\n        )}\n\n        <p className=\"absolute text-12px font-semibold text-red-800 mt-2\">\n          {msg}\n        </p>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}